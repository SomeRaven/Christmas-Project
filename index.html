<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Christmas List üéÑ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            color: #c41e3a;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
        }

        .filter-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-section label {
            font-weight: 600;
            color: #666;
        }

        .filter-section select {
            padding: 8px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            background: white;
        }

        .filter-section select:focus {
            outline: none;
            border-color: #667eea;
        }

        .input-section {
            display: grid;
            gap: 10px;
            margin-bottom: 30px;
            grid-template-columns: 1fr;
        }

        .input-row {
            display: flex;
            gap: 10px;
        }

        .input-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .input-group label {
            font-size: 12px;
            font-weight: 600;
            color: #666;
        }

        input[type="text"],
        input[type="number"],
        input[type="url"],
        textarea,
        select {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        textarea {
            resize: vertical;
            min-height: 60px;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="url"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        input[type="number"] {
            width: 100%;
        }

        button {
            padding: 12px 25px;
            background: #c41e3a;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 600;
        }

        button:hover {
            background: #a01729;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .list-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            min-height: 200px;
        }

        .list-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .list-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 10px;
        }

        .item-main {
            flex: 1;
        }

        .item-text {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .item-priority {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }

        .priority-high {
            background: #fee;
            color: #c41e3a;
        }

        .priority-medium {
            background: #fff3cd;
            color: #856404;
        }

        .priority-low {
            background: #e7f3ff;
            color: #0066cc;
        }

        .item-price {
            font-size: 16px;
            color: #28a745;
            font-weight: 600;
        }

        .item-description {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            margin-top: 5px;
        }

        .item-link {
            margin-top: 5px;
        }

        .item-link a {
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
        }

        .item-link a:hover {
            text-decoration: underline;
        }

        .item-meta {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .item-actions {
            display: flex;
            gap: 8px;
        }

        .edit-btn, .delete-btn {
            padding: 6px 12px;
            font-size: 14px;
            border-radius: 6px;
        }

        .edit-btn {
            background: #667eea;
        }

        .edit-btn:hover {
            background: #5568d3;
        }

        .delete-btn {
            background: #e74c3c;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .empty-message {
            text-align: center;
            color: #999;
            padding: 40px;
            font-style: italic;
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        .snowflake {
            display: inline-block;
            margin: 0 5px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            .input-row {
                flex-direction: column;
            }

            .filter-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .filter-section select {
                width: 100%;
            }

            .item-header {
                flex-direction: column;
            }

            .item-actions {
                width: 100%;
                justify-content: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÑ My Christmas List üéÅ</h1>
        <p class="subtitle">What I'm hoping for this year</p>

        <div class="filter-section">
            <label for="filterSelect">Sort by:</label>
            <select id="filterSelect" onchange="handleFilterChange()">
                <option value="date-latest">Date Added (Latest First)</option>
                <option value="date-earliest">Date Added (Earliest First)</option>
                <option value="price-high">Price (Highest First)</option>
                <option value="price-low">Price (Lowest First)</option>
                <option value="priority-high">Priority (Most Wanted First)</option>
                <option value="priority-low">Priority (Least Wanted First)</option>
            </select>
        </div>

        <div class="input-section">
            <div class="input-row">
                <div class="input-group" style="flex: 2;">
                    <label for="itemInput">Item Name *</label>
                    <input 
                        type="text" 
                        id="itemInput" 
                        placeholder="e.g., Wireless Headphones"
                        required
                    >
                </div>
                <div class="input-group">
                    <label for="priceInput">Price ($)</label>
                    <input 
                        type="number" 
                        id="priceInput" 
                        placeholder="0.00"
                        step="0.01"
                        min="0"
                    >
                </div>
            </div>
            
            <div class="input-row">
                <div class="input-group">
                    <label for="linkInput">Link (Optional)</label>
                    <input 
                        type="url" 
                        id="linkInput" 
                        placeholder="https://example.com/product"
                    >
                </div>
                <div class="input-group">
                    <label for="priorityInput">Priority</label>
                    <select id="priorityInput">
                        <option value="high">High - Really Want!</option>
                        <option value="medium" selected>Medium - Would Be Nice</option>
                        <option value="low">Low - Just an Idea</option>
                    </select>
                </div>
            </div>

            <div class="input-group">
                <label for="descriptionInput">Description (Optional)</label>
                <textarea 
                    id="descriptionInput" 
                    placeholder="Add any details, preferences, colors, sizes, etc..."
                ></textarea>
            </div>

            <button id="addBtn" onclick="addItem()">Add to List</button>
        </div>

        <div class="list-container" id="listContainer">
            <div class="empty-message">Your list is empty. Start adding items!</div>
        </div>

        <div class="footer">
            <span class="snowflake">‚ùÑÔ∏è</span>
            Made with love
            <span class="snowflake">‚ùÑÔ∏è</span>
        </div>
    </div>

    <script>
        let items = [];
        let currentFilter = 'date-latest';

        // Load hardcoded items
        function loadItems() {
            // Hardcoded data from Supabase
            items = [
                {"id": 3, "text": "Steam Deck", "price": 670.0, "link": "https://www.amazon.com/VALVE-Steam-512GB-International-Version/dp/B0CP2YVFD4/ref=sr_1_2?crid=2WFDF9QIHSE5A&dib=eyJ2IjoiMSJ9.fl6cmh7kS5EKMgbypoKqQbr5uk9kDOAjUyW6WPybpnDm3H1VbXKXtFmybQnb2hqKDliRIa1scvp6Xc8_ahKs1fBpRyl2POoCKjR8IANTCvrsnPN5MehdqyCr-OxD3WbGKweFCcfXsKLv9_51oqOBIsxtyFKfJhpHLs0dYn2hFeMk8SxkJdeZFtghKbVMtn-uEymHRLLpqSMFnRccWjk2Twt9X9-b7kbwEj9LiywkqJI.onDeN4XPDeP3zkb4PcX96uWfp_Vc9G1e1tjp0sXEhpQ&dib_tag=se&keywords=steam+deck&qid=1763153621&sprefix=steam+dec%2Caps%2C228&sr=8-2", "priority": "high", "description": "I know this is a lot but I have wanted to get this for a while.", "created_at": "2025-11-14 20:54:49.157Z"},
                {"id": 4, "text": "Apple Watch Series 11", "price": 389.0, "link": "https://www.amazon.com/Apple-Watch-Smartwatch-Aluminum-Always/dp/B0FQF9ZX7P/ref=sr_1_1_sspa?crid=1VAG85GKZH0X8&dib=eyJ2IjoiMSJ9.A04M77uS7qRq639Ocqk1ADlqTiNENcV9sH_Gn6Srqy5mkhiwQNXM3YWAYEV5zYqFoa9VOgCZj7T8uXPJswePWk2AbUhylmXNg59TLdARABD3yTZ_lZuhUj0jkOzIPXz9eOD8wmCzgHdpEQqcOd3_6AT-xFJlEyQticbceqdENViZgHfsxjISiv8sHkVBpFOJz3TKTJjCLM9UYUysiEHaF2Ghz-rFOnPhvC9czTWOee4.UYfjR2dMuKVclEywS5AwztPbAxqqf4I4lDUE7I638KQ&dib_tag=se&keywords=apple%2Bwatch&qid=1763153693&sprefix=apple%2Bwatch%2Caps%2C230&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1", "priority": "high", "description": "I wanted to get this for school and I've want'ed to start working out more regularly", "created_at": "2025-11-14 20:55:53.873Z"},
                {"id": 5, "text": "Pink Fake Landline Phone", "price": 27.99, "link": "https://www.amazon.com/dp/B0D91VVFQJ/?coliid=I119STGXQ5MO61&colid=3C6JDB5JQLLG&ref_=list_c_wl_gv_ov_lig_pi_dp&th=1", "priority": "low", "description": "I want to use this is class example: \"Let me call someone that would care.... they didn't answer\"", "created_at": "2025-11-14 20:59:47.303Z"},
                {"id": 6, "text": "Standing Desk!", "price": 59.99, "link": "https://www.amazon.com/dp/B0CMWPG77P/?coliid=I1WYG6DVCA7C08&colid=3C6JDB5JQLLG&ref_=list_c_wl_gv_ov_lig_pi_dp&th=1", "priority": "low", "description": null, "created_at": "2025-11-14 21:01:01.288Z"},
                {"id": 7, "text": "Shark FlexStyle", "price": 249.0, "link": "http://www.amazon.com/dp/B0B89P16MC/?coliid=I33L4Y04CER7XS&colid=Y8W9QHQU6JY7&psc=1&ref_=list_c_wl_lv_ov_lig_dp_it", "priority": "high", "description": "I've wanted this for a while", "created_at": "2025-11-14 21:02:35.055Z"},
                {"id": 8, "text": "Sick Poker Set", "price": 89.99, "link": "https://www.amazon.com/dp/B08HNC4FPC/?coliid=I1602DKMN9BQC7&colid=Y8W9QHQU6JY7&psc=1&ref_=list_c_wl_lv_ov_lig_dp_it", "priority": "low", "description": "Its expensive but CoOoL", "created_at": "2025-11-14 21:03:22.957Z"},
                {"id": 9, "text": "LEGO Atari", "price": 249.99, "link": "https://www.amazon.com/dp/B01N9DA98E/?coliid=IOTICSJXEEC6Q&colid=Y8W9QHQU6JY7&ref_=list_c_wl_lv_ov_lig_dp_it&th=1", "priority": "low", "description": "Sick", "created_at": "2025-11-14 21:04:02.374Z"},
                {"id": 10, "text": "Candy For My Classroom", "price": 15.0, "link": "https://www.amazon.com/dp/B01N9DA98E/?coliid=IOTICSJXEEC6Q&colid=Y8W9QHQU6JY7&ref_=list_c_wl_lv_ov_lig_dp_it&th=1", "priority": "low", "description": null, "created_at": "2025-11-14 21:05:10.59Z"},
                {"id": 11, "text": "LEGO Super Mario Game Boy", "price": 59.97, "link": "https://www.amazon.com/LEGO-Super-Mario-Game-Boy/dp/B0DX3J6MT7/?_encoding=UTF8&pd_rd_w=IImoT&content-id=amzn1.sym.048a6e3c-8d40-4302-8312-26c626af6738%3Aamzn1.symc.050ea944-f1cf-4610-b462-3b604f2f4082&pf_rd_p=048a6e3c-8d40-4302-8312-26c626af6738&pf_rd_r=EQK6YB767W3P22R41543&pd_rd_wg=3Vw47&pd_rd_r=8a7f6869-af16-4896-9497-078284ed41e8&ref_=pd_hp_d_btf_ci_mcx_mr_ca_id_hp_d", "priority": "low", "description": null, "created_at": "2025-11-14 21:06:36.724Z"},
                {"id": 12, "text": "Pirate Themed Metal Poker Chip Set", "price": 279.65, "link": "https://www.amazon.com/PIRATEGOLD-Pirate-Gold-Gunmetal-Carrying/dp/B0D8JMWQGP/?_encoding=UTF8&pd_rd_w=SoFUL&content-id=amzn1.sym.048a6e3c-8d40-4302-8312-26c626af6738%3Aamzn1.symc.050ea944-f1cf-4610-b462-3b604f2f4082&pf_rd_p=048a6e3c-8d40-4302-8312-26c626af6738&pf_rd_r=EQK6YB767W3P22R41543&pd_rd_wg=3Vw47&pd_rd_r=8a7f6869-af16-4896-9497-078284ed41e8&ref_=pd_hp_d_btf_ci_mcx_mr_ca_id_hp_d", "priority": "low", "description": "Sick", "created_at": "2025-11-14 21:07:10.81Z"},
                {"id": 13, "text": "Lap Desk", "price": 34.99, "link": "https://www.amazon.com/Lap-Desk-Laptop-Notebook-MacBook/dp/B07FW2KT8F/ref=sxbs_pa_sp_search_thematic_btf_sspa?content-id=amzn1.sym.22fe3556-db88-4fca-a061-9b88e71873e5%3Aamzn1.sym.22fe3556-db88-4fca-a061-9b88e71873e5&cv_ct_cx=teacher%2Bstuff&keywords=teacher%2Bstuff&pd_rd_i=B07FW2KT8F&pd_rd_r=d3e5090f-508c-4ecd-9da6-40f2a2fa670e&pd_rd_w=sseU4&pd_rd_wg=K6MAv&pf_rd_p=22fe3556-db88-4fca-a061-9b88e71873e5&pf_rd_r=DV33Q0XNYC844MHC2XNZ&qid=1763154617&sbo=RZvfv%2F%2FHxDF%2BO5021pAnSA%3D%3D&sr=1-50-7d2fbe28-de39-4340-8caa-0f25741ee617-spons&xpid=hoC8A8DKt057y&aref=sL0GUPwzZs&sp_csd=d2lkZ2V0TmFtZT1zcF9zZWFyY2hfdGhlbWF0aWNfYnRm&th=1", "priority": "low", "description": null, "created_at": "2025-11-14 21:13:47.994Z"},
                {"id": 14, "text": "Weighed Blanket", "price": 35.99, "link": "https://www.amazon.com/Yescool-Weighted-Blanket-Sleeping-Breathable/dp/B092LZLLGF/ref=sr_1_2?crid=1QUIIPFDXSB3V&dib=eyJ2IjoiMSJ9.7mc4K0OLYBK6Cn0KC0s50sSoBYtTSjCWTkM3TaTs9oSfDEidS0vfRH5AP8SUnt-julSkHrP1wfV40VHMU3w1fj7ZaYCHRk6WxaxRoKRfhN2aFCZkZEcpzjId-t9lZ8-o74N4S5TwP7TH-kUIr5lVWcbl5n4sGLa_QJmJjLzkYvKDyf275GUt_z5gVmMxIlpXx5zm67EBZUzBiRDUBt6o41cV8ntr-kpcnnEkmIAB8ww.4eyhtbo-W1nrOvCaNxRsxbdXayQHDhAy58nyij3JqvI&dib_tag=se&keywords=weighted%2Bblanket&qid=1763154945&sprefix=weighted%2Cspecialty-aps%2C237&sr=8-2&th=1", "priority": "low", "description": null, "created_at": "2025-11-14 21:16:22.892Z"},
                {"id": 15, "text": "Target Gift Card", "price": 50.0, "link": null, "priority": "medium", "description": "For Teacher Clothes", "created_at": "2025-11-14 21:18:16.76Z"},
                {"id": 16, "text": "Micheals Gift Card", "price": 50.0, "link": null, "priority": "medium", "description": "Yarn.... Fabric... Etc", "created_at": "2025-11-14 21:18:45.723Z"},
                {"id": 17, "text": "Teacher T-Shirt #1", "price": 13.99, "link": "https://www.amazon.com/Teacher-Shirts-Womens-Graphic-Casual/dp/B09TF3FDX9/ref=sr_1_10?crid=74BXZKG3J0JM&dib=eyJ2IjoiMSJ9.ry4OHj6tIAjp4Eqe8dZ15HbkfopiKFaUvAXiMd2Dfc4rqpHpZo_aDUN3tRLRxsuGvT4iXVAYurbJLbGgyuOFhDTAu3A3qf-atpb248ZLqT832DPlzK_5f3YekS2ENIN9ur3HvnLxp3FuUCBnE0taLuQN7SBZ-EdLNkmyQ4TkPQCdl4zIDf0Gb487E3568tErW4AiQqJJpu2xSHEoEfCcVrq7kUjMpCyPwbhjhr_CzCZXU_PWQBSlpBTCrmp6_A9slgAG-2-zqVL3adUZwlpAZvaYoFaYHIwfeKdva7TLqVw.PXayx7xyNvqiILB594NUFoFUNbk8nGM2ae-MaofVR70&dib_tag=se&keywords=teacher%2Bshirts&qid=1763155195&sprefix=Teacher%2B%2Cspecialty-aps%2C243&sr=8-10&th=1&psc=1", "priority": "medium", "description": "Sick Shirt", "created_at": "2025-11-14 21:20:55.759Z"},
                {"id": 18, "text": "Dinosaur Shirt", "price": 12.87, "link": "https://www.amazon.com/ROSEPARK-Women-Dinosaur-Graphic-Medium/dp/B07JHV6TJM/ref=sxbs_pa_sp_search_thematic_btf_sspa?content-id=amzn1.sym.aef7a50a-dcf1-4234-b1e5-edf92978a40f%3Aamzn1.sym.aef7a50a-dcf1-4234-b1e5-edf92978a40f&crid=74BXZKG3J0JM&cv_ct_cx=teacher%2Bshirts&keywords=teacher%2Bshirts&pd_rd_i=B07JHV6TJM&pd_rd_r=45672fe7-4943-4707-b0b2-141402964c90&pd_rd_w=byCVn&pd_rd_wg=f6S0L&pf_rd_p=aef7a50a-dcf1-4234-b1e5-edf92978a40f&pf_rd_r=7WDM09H5HFQY6MPE8VPJ&qid=1763155195&sbo=RZvfv%2F%2FHxDF%2BO5021pAnSA%3D%3D&sprefix=Teacher%2B%2Cspecialty-aps%2C243&sr=1-2-b4f23351-3f4d-45d4-9f01-ee5191fb028d-spons&srs=210998206011&aref=v9ZKYxfUQg&sp_csd=d2lkZ2V0TmFtZT1zcF9zZWFyY2hfdGhlbWF0aWNfYnRm&th=1&psc=1", "priority": "medium", "description": null, "created_at": "2025-11-14 21:22:04.058Z"},
                {"id": 19, "text": "AMD Ryzen 9 5900X", "price": 269.0, "link": "https://www.amazon.com/dp/B08164VTWH?tag=pcpapi-20&linkCode=ogi&th=1", "priority": "high", "description": "I have an out dated CPU and would like another one", "created_at": "2025-11-15 05:29:55.826Z"},
                {"id": 20, "text": "Steam Gift Card", "price": 50.0, "link": null, "priority": "low", "description": null, "created_at": "2025-11-15 20:39:54.778Z"}
            ];
            renderList();
        }

        // Add new item
        function addItem() {
            const itemName = document.getElementById('itemInput').value.trim();
            const price = document.getElementById('priceInput').value;
            const link = document.getElementById('linkInput').value.trim();
            const priority = document.getElementById('priorityInput').value;
            const description = document.getElementById('descriptionInput').value.trim();

            if (itemName === '') {
                alert('Please enter an item name!');
                return;
            }

            const newItem = {
                id: Date.now(),
                text: itemName,
                price: price ? parseFloat(price) : null,
                link: link || null,
                priority: priority,
                description: description || null,
                created_at: new Date().toISOString()
            };

            items.push(newItem);
            
            // Clear form
            document.getElementById('itemInput').value = '';
            document.getElementById('priceInput').value = '';
            document.getElementById('linkInput').value = '';
            document.getElementById('priorityInput').value = 'medium';
            document.getElementById('descriptionInput').value = '';
            
            renderList();
        }

        // Delete item
        function deleteItem(id) {
            if (!confirm('Are you sure you want to remove this item?')) {
                return;
            }

            items = items.filter(item => item.id !== id);
            renderList();
        }

        // Edit item
        function editItem(id) {
            const item = items.find(item => item.id === id);
            
            const newName = prompt('Edit item name:', item.text);
            if (newName === null) return;
            
            const newPrice = prompt('Edit price (leave empty for no price):', item.price || '');
            const newLink = prompt('Edit link (leave empty for no link):', item.link || '');
            const newPriority = prompt('Edit priority (high/medium/low):', item.priority);
            const newDescription = prompt('Edit description:', item.description || '');

            if (newName.trim() === '') {
                alert('Item name cannot be empty!');
                return;
            }

            item.text = newName.trim();
            item.price = newPrice ? parseFloat(newPrice) : null;
            item.link = newLink.trim() || null;
            item.priority = ['high', 'medium', 'low'].includes(newPriority) ? newPriority : item.priority;
            item.description = newDescription.trim() || null;
            
            renderList();
        }

        // Handle filter change
        function handleFilterChange() {
            currentFilter = document.getElementById('filterSelect').value;
            renderList();
        }

        // Sort items based on current filter
        function sortItems(itemsToSort) {
            const sorted = [...itemsToSort];
            
            switch(currentFilter) {
                case 'date-latest':
                    return sorted.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
                case 'date-earliest':
                    return sorted.sort((a, b) => new Date(a.created_at) - new Date(b.created_at));
                case 'price-high':
                    return sorted.sort((a, b) => (b.price || 0) - (a.price || 0));
                case 'price-low':
                    return sorted.sort((a, b) => (a.price || Infinity) - (b.price || Infinity));
                case 'priority-high':
                    const priorityOrder = { high: 3, medium: 2, low: 1 };
                    return sorted.sort((a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]);
                case 'priority-low':
                    const priorityOrderLow = { high: 3, medium: 2, low: 1 };
                    return sorted.sort((a, b) => priorityOrderLow[a.priority] - priorityOrderLow[b.priority]);
                default:
                    return sorted;
            }
        }

        // Get priority label
        function getPriorityLabel(priority) {
            const labels = {
                high: 'Most Wanted',
                medium: 'Would Be Nice',
                low: 'Just an Idea'
            };
            return labels[priority] || priority;
        }

        // Format date
        function formatDate(isoString) {
            const date = new Date(isoString);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        // Render the list
        function renderList() {
            const container = document.getElementById('listContainer');

            if (items.length === 0) {
                container.innerHTML = '<div class="empty-message">Your list is empty. Start adding items!</div>';
                return;
            }

            const sortedItems = sortItems(items);

            container.innerHTML = sortedItems.map(item => `
                <div class="list-item">
                    <div class="item-header">
                        <div class="item-main">
                            <div class="item-text">
                                ${escapeHtml(item.text)}
                                <span class="item-priority priority-${item.priority}">
                                    ${getPriorityLabel(item.priority)}
                                </span>
                            </div>
                            ${item.price ? `<div class="item-price">$${item.price.toFixed(2)}</div>` : ''}
                            ${item.description ? `<div class="item-description">${escapeHtml(item.description)}</div>` : ''}
                            ${item.link ? `<div class="item-link"><a href="${escapeHtml(item.link)}" target="_blank" rel="noopener noreferrer">üîó View Product</a></div>` : ''}
                            <div class="item-meta">Added ${formatDate(item.created_at)}</div>
                        </div>
                        <div class="item-actions">
                            <button class="edit-btn" onclick="editItem(${item.id})">Edit</button>
                            <button class="delete-btn" onclick="deleteItem(${item.id})">Delete</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Initialize on page load
        loadItems();
    </script>
</body>
</html>